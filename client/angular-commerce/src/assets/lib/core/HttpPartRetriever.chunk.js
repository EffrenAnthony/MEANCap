/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{359:function(ha,da,f){f.r(da);f.d(da,"ByteRangeRequest",function(){return na});var aa=f(4),x=f(0);f.n(x);var fa=f(1),ca=f(124);ha=f(79);var ba=f(201),y=f(61),r=f(56),n=f(200),h=f(137);f=f(312);var e=[],w=[],z=window,ia=function(){return function(){this.kl=1}}(),ea;(function(e){e[e.UNSENT=0]="UNSENT";e[e.DONE=4]="DONE"})(ea||(ea={}));var na=function(){function f(e,h,f,r){var w=this;this.url=e;this.range=h;this.pf=f;this.withCredentials=
r;this.xX=ea;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);z.Uint8Array&&(this.request.responseType="arraybuffer");r&&(this.request.withCredentials=r);ka.DISABLE_RANGE_HEADER||(Object(x.isUndefined)(h.stop)?this.request.setRequestHeader("Range","bytes="+h.start):this.request.setRequestHeader("Range",["bytes=",h.start,"-",h.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");f&&Object.keys(f).forEach(function(e){w.request.setRequestHeader(e,
f[e])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=n.a.NOT_STARTED}f.prototype.start=function(e){var h=this,f=this.request;f.onreadystatechange=function(){if(h.aborted)return h.status=n.a.ABORTED,e({code:n.a.ABORTED});if(this.readyState===h.xX.DONE){h.Lz();var r=0===window.document.URL.indexOf("file:///");200===f.status||206===f.status||r&&0===f.status?(r=z.sP(this),
h.ws(r,e)):(h.status=n.a.ERROR,e({code:h.status,status:h.status}))}};this.request.send(null);this.status=n.a.STARTED};f.prototype.ws=function(e,h){this.status=n.a.SUCCESS;if(h)return h(!1,e)};f.prototype.abort=function(){this.Lz();this.aborted=!0;this.request.abort()};f.prototype.Lz=function(){var n=Object(h.c)(this.url,this.range,w);-1!==n&&w.splice(n,1);if(0<e.length){n=e.shift();var r=new f(n.url,n.range,this.pf,this.withCredentials);n.request=r;w.push(n);r.start(Object(h.d)(n))}};f.prototype.extend=
function(e){var h=Object.assign({},this,e.prototype);h.constructor=e;return h};return f}(),ka=function(f){function n(e,h,n,r,w){n=f.call(this,e,n,r)||this;n.ml={};n.qy=h;n.url=e;n.DISABLE_RANGE_HEADER=!1;n.Mv=na;n.YJ=3;n.pf=w||{};return n}Object(aa.c)(n,f);n.prototype.Wt=function(e,h,f){var n=-1===e.indexOf("?")?"?":"&";switch(f){case !1:case r.a.NEVER_CACHE:e=e+n+"_="+Object(x.uniqueId)();break;case !0:case r.a.CACHE:e=e+n+"_="+h.start+","+(Object(x.isUndefined)(h.stop)?"":h.stop)}return e};n.prototype.GN=
function(e,h,f,n){void 0===f&&(f={});return new this.Mv(e,h,f,n)};n.prototype.o3=function(h,f,n,r,y){for(var z=0;z<e.length;z++)if(Object(x.isEqual)(e[z].range,f)&&Object(x.isEqual)(e[z].url,h))return e[z].ng.push(r),e[z].LA++,null;for(z=0;z<w.length;z++)if(Object(x.isEqual)(w[z].range,f)&&Object(x.isEqual)(w[z].url,h))return w[z].ng.push(r),w[z].LA++,null;n={url:h,range:f,qy:n,ng:[r],LA:1};if(0===e.length&&w.length<this.YJ)return w.push(n),n.request=this.GN(h,f,y,this.withCredentials),n;e.push(n);
return null};n.prototype.Sm=function(f,n,r){var x=this.Wt(f,n,this.qy);(f=this.o3(x,n,this.qy,r,this.pf))&&f.request.start(Object(h.d)(f));return function(){var f=Object(h.c)(x,n,w);if(-1!==f){var r=--w[f].LA;0===r&&w[f].request&&w[f].request.abort()}else f=Object(h.c)(x,n,e),-1!==f&&(r=--e[f].LA,0===r&&e.splice(f,1))}};n.prototype.ZO=function(){return{start:-ca.a}};n.prototype.v6=function(){var e=-(ca.a+ca.e);return{start:e-ca.d,end:e}};n.prototype.Cr=function(e){var h=this;this.vy=!0;var f=ca.a;
this.Sm(this.url,this.ZO(),function(n,r,w){function x(){var f=h.Nd.WO();h.Sm(h.url,f,function(n,r){if(n)return Object(fa.i)("Error loading central directory: "+n),e(n);r=Object(y.a)(r);if(r.length!==f.stop-f.start)return e("Invalid XOD file: Zip central directory data is wrong size! Should be "+(f.stop-f.start)+" but is "+r.length);h.Nd.nS(r);h.tE=!0;h.vy=!1;return e(!1)})}if(n)return Object(fa.i)("Error loading end header: "+n),e(n,r,w);r=Object(y.a)(r);if(r.length!==f)return e("Invalid XOD file: Zip end header data is wrong size!");
try{h.Nd=new ba.a(r)}catch(Aa){return e(Aa)}h.Nd.P7?h.Sm(h.url,h.v6(),function(f,n){if(f)return Object(fa.i)("Error loading zip64 header: "+f),e(f);n=Object(y.a)(n);h.Nd.h8(n);x()}):x()})};n.prototype.pP=function(e){e(Object.keys(this.Nd.vm))};n.prototype.bI=function(e,h){var f=this;if(this.Nd.vN(e)){var n=this.Nd.Dz(e);if(n in this.ml){var r=this.sh[e];r.zq=this.ml[n];r.zq.kl++;r.cancel=r.zq.cancel}else{var w=this.Nd.S4(e),x=this.Sm(this.url,w,function(r,x){r?(Object(fa.i)('Error loading part "'+
e+'": '+r),f.Sm(f.url,w,function(r,x){if(r)return h(r,e);f.rS(x,w,n,e,h)})):f.rS(x,w,n,e,h)}),y=this.sh[e];y&&(y.vU=!0,y.cancel=function(){y.zq.kl--;0===y.zq.kl&&(x(),delete f.ml[n])},this.ml[n]=new ia(n),y.zq=this.ml[n],y.zq.cancel=y.cancel)}}else delete this.sh[e],h(Error('File not found: "'+e+'"'),e)};n.prototype.rS=function(e,h,f,n,r){if(e.length!==h.stop-h.start)r(Error("Part data is wrong size!"),n);else{do{if(!this.ml[f])return;n=this.ml[f].kl;for(var w=h.sp.length,x=0;x<w;++x){var y=h.sp[x];
r(!1,y.op,e["string"===typeof e?"substring":"subarray"](y.start,y.stop),this.Nd.qQ(y.op));y.op in this.sh&&delete this.sh[y.op]}}while(n!==this.ml[f].kl);delete this.ml[f]}};n.DISABLE_RANGE_HEADER=!1;n.YJ=3;return n}(ha.a);(function(e){function h(h,f,n){var r=e.call(this)||this,w;for(w in h)r[w]=h[w];r.Gha=h;r.startOffset=f;r.endOffset=n;r.GN=function(e,f,n,w){Object(x.isUndefined)(f.stop)?(f.start+=r.endOffset,f.stop=r.endOffset):(f.start+=r.startOffset,f.stop+=r.startOffset);e=r.Wt(r.url,f,r.qy);
return new h.Mv(e,f,n,w)};return r}Object(aa.c)(h,e);return h})(ka);Object(f.a)(ka);Object(f.b)(ka);da["default"]=ka}}]);}).call(this || window)
